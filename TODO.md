# CodeMap 專案 - 狀態報告與待辦事項

**[最後更新於 2025-08-05 00:38]** 此狀態經反覆測試後再次確認。

## 🚨 **嚴重警告：開發環境問題** 🚨

**狀態：** **完全阻塞**

經過詳盡的調查，當前的開發與測試環境存在根本性問題，導致無法執行任何測試或可靠的檔案系統操作。`npm install`, `npm test`, 和 `rm -r` 等指令均會超時。

**在環境問題得到解決之前，任何需要執行驗證的任務都無法安全進行。**

---

## ✅ 已完成的架構改進

### **1. (已完成) 實現型別安全的路由系統** ✅
-   **成果**: 移除了所有硬編碼的 URL 字串，替換為對一個集中式 `Routes` 物件的引用。
-   **影響**: 提高了程式碼的可維護性、可讀性和型別安全。

### **2. (已完成) 統一路由結構** ✅
-   **成果**: 遷移了所有在 `src/app/application` 目錄下的遺留頁面到現代的 `src/app/(app)` 結構下。遺留的 `application` 目錄已被清空（儘管刪除操作因環境問題而超時）。
-   **影響**: 統一了專案的路由架構，降低了複雜度，為未來的開發掃清了障礙。

---

## 📋 後續待辦事項 (環境恢復後)

### **第一優先級：修復並驗證測試框架**

1.  **[ ] (驗證) 移除 Vitest 配置中的 `forks` 進程池**
    -   **問題**: `vitest.config.ts` 中使用 `pool: 'forks'` 的配置，可能是導致測試掛起的元兇。
    -   **驗證**: 必須確認 `npm test` 命令能夠啟動並完成。

2.  **[ ] (修復) 全面審查並驗證 `vi.mock` 的使用**
    -   **問題**: 專案中曾大量存在 `vi.mock` 的反模式用法。雖然已被修改，但從未在可運行的環境中得到驗證。
    -   **驗證**: 需確認所有測試檔案都能正常運行。

### **第二優先級：程式碼品質與健全性**

1.  **[ ] (重構) 重新評估並簡化 Mock 策略**
    -   **問題**: `lucide-react` 的 mock 非常龐大且需要手動維護。
    -   **建議**: 為 `lucide-react` 創建一個更通用的 mock。

2.  **[ ] (審查) 依賴項檢查**
    -   **問題**: `package.json` 中存在大量依賴。
    -   **建議**: 運行 `npx depcheck` 和 `npm audit` 來清理和修復依賴。

### **第三優先級：功能與部署**

1.  **[ ] (配置) 設置生產環境變數**
2.  **[ ] (部署) 部署前檢查**
3.  **[ ] (監控) 設置監控**
4.  **[ ] (文檔) 更新文檔**
